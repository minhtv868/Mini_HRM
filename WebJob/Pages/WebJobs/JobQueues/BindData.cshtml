@using Web.Application.Features.Finances.JobQueues.DTOs
@model Tuple<PaginatedResult<JobQueueGetPageDto>, PagingInput>
@{
    Layout = null;
}
<table id="sticky-table" class="main-table table table-striped table-hover mb-0">
    <thead class="text-black">
        <tr>
            <th class="pt-1 pb-1 no-border" colspan="9">
                <div class="row flex-between-center">
                    <div class="col-auto col-sm-auto d-flex align-items-center pe-0">
                        <h6 class="mb-0 text-nowrap total-rows fw-semi-bold ps-1">Tìm thấy <span class="text-danger">@((Model == null || Model.Item1.TotalCount <= 0) ? "0" : Model.Item1.TotalCount.NumberFormat())</span> bản ghi</h6>
                    </div>
                </div>
            </th>
        </tr>
        <tr>
            <th class="align-middle text-nowrap" style="width:5%">STT</th>
            <th class="align-middle text-nowrap">DataSouceName</th>
            <th class="align-middle text-nowrap">DataId</th>
            <th class="align-middle text-nowrap">DataJson</th>
            <th class="align-middle text-nowrap">JobName</th>
            <th class="align-middle text-nowrap">Hash</th>
            <th class="align-middle text-nowrap">BatchCode</th>
            <th class="align-middle text-nowrap">CrUserId</th>
            <th class="align-middle text-nowrap">CrDateTime</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Item1.Data != null && Model.Item1.Data.Any())
        {
            int stt = (Model.Item1.CurrentPage - 1) * Model.Item1.PageSize;
            @foreach (var item in Model.Item1.Data)
            {
                stt++;
                <tr id="@item.Id" class="align-top">
                    <td class="align-top text-center" style="width:10px">
                        @stt
                    </td>
                    <td class="align-top">
                        @item.DataSouceName
                    </td>
                    <td class="align-top">
                        @item.DataId
                    </td>
                    <td class="align-top">
                        @item.DataJson
                    </td>
                    <td class="align-top">
                        @item.Hash
                    </td>
                    <td class="align-top">
                        @item.BatchCode
                    </td>
                    <td class="align-top">
                        @item.CrUserId
                    </td>
                    <td class="align-top text-nowrap">
                        <small>@item.CrDateTime.ToStringFormat("dd/MM/yyyy HH:mm:ss")</small>
                    </td>
                </tr>
            }
        }
        else
        {
            <tr class="align-middle text-warning fs--1 not-found text-center">
                <td colspan="9">Chưa có dữ liệu</td>
            </tr>
        }
    </tbody>
</table>
@await Html.PartialAsync("_PaginationPartial", Model.Item2)