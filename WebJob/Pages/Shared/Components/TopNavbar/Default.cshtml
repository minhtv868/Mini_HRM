@using Web.Domain.Entities.Identity
@using Microsoft.AspNetCore.Identity
@using WebJob.Helpers
@using Web.Application.Features.IdentityFeatures.SysFunctions.Queries
@model Result<List<SysFunctionGetMenuByUserDto>>
<nav class="navbar navbar-light navbar-glass navbar-top border-bottom navbar-expand-lg" style="" data-move-target="#navbarVerticalNav" data-navbar-top="combo">
	<button class="btn navbar-toggler-humburger-icon navbar-toggler me-1 me-sm-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarVerticalCollapse" aria-controls="navbarVerticalCollapse" aria-expanded="false" aria-label="Toggle Navigation"><span class="navbar-toggle-icon"><span class="toggle-line"></span></span></button>
	<a href="/" class="navbar-brand me-1 me-sm-3">
		<div class="d-flex align-items-center">
			<img class="me-2" src="~/Images/logo.svg" alt="logo" width="120" />
		</div>
	</a>
	<div class="collapse navbar-collapse scrollbar" id="navbarStandard" style="">
		@if (Model.Data != null && Model.Data.Any())
		{
			List<SysFunctionGetMenuByUserDto> functionsListByUser = Model.Data.FindAll(x => x.IsFavorite).OrderBy(x => x.DisplayOrder).ToList();
			if (functionsListByUser.Any())
			{
				<ul class="navbar-nav" data-top-nav-dropdowns="data-top-nav-dropdowns">
					@for (int index = 0; index < functionsListByUser.Count && index < 5; index++)
					{
						<li class="nav-item">
							<a class="nav-link" href="@functionsListByUser[index].Url">@functionsListByUser[index].FunctionName</a>
						</li>
					}
					@if (functionsListByUser.Count > 5)
					{
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="javascript:void(0)" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="top-navbar-more"></a>
							<div class="dropdown-menu dropdown-caret dropdown-menu-card border-0 mt-0" aria-labelledby="top-navbar-more">
								<div class="bg-white dark__bg-1000 rounded-3 py-2">
									@for (int index = 5; index < functionsListByUser.Count; index++)
									{
										<a class="dropdown-item link-600 fw-medium" href="@functionsListByUser[index].Url">@functionsListByUser[index].FunctionName</a>
									}
								</div>
							</div>
						</li>
					}
				</ul>
			}
		}
	</div>
	<ul class="navbar-nav navbar-nav-icons ms-auto flex-row align-items-center">
		<li class="nav-item px-2">
			<div class="theme-control-toggle fa-icon-wait"><input class="form-check-input ms-0 theme-control-toggle-input" id="themeControlToggle" type="checkbox" data-theme-control="theme" value="dark" /><label class="mb-0 theme-control-toggle-label theme-control-toggle-light" for="themeControlToggle" data-bs-toggle="tooltip" data-bs-placement="left" title="Chuyển sang chủ đề sáng"><span class="fas fa-sun fs-0"></span></label><label class="mb-0 theme-control-toggle-label theme-control-toggle-dark" for="themeControlToggle" data-bs-toggle="tooltip" data-bs-placement="left" title="Chuyển sang chủ đề tối"><span class="fas fa-moon fs-0"></span></label></div>
		</li>
		<li class="nav-item dropdown">
			<a class="nav-link mt-0 py-0 pe-0 ps-2" title="@User.GetDisplayName()" id="navbarDropdownUser" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<div class="avatar avatar-xl">
					<img class="rounded-circle" src="@User.GetAvatarPath()" alt="@User.GetDisplayName()" />
				</div>
			</a>
			<div class="dropdown-menu dropdown-caret dropdown-caret dropdown-menu-end py-0" aria-labelledby="navbarDropdownUser">
				<div class="bg-white dark__bg-1000 rounded-2 py-2">
					<a class="dropdown-item" asp-area="Identity" asp-page="/Account/Manage/Index" title="Quản lý thông tin tài khoản">Quản lý thông tin tài khoản</a>
					<a class="dropdown-item" asp-area="Identity" asp-page="/Account/Logout" title="Đăng xuất">Đăng xuất</a>
				</div>
			</div>
		</li>
	</ul>
</nav>