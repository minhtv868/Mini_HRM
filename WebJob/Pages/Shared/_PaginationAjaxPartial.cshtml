@model PagingInput
@inject IHttpContextAccessor _httpContextAccessor
@{
    var queryParamsFilteredList = _httpContextAccessor.HttpContext?.Request.Query.ToList().Where(filterKvp => !filterKvp.Key.ToLower().Trim().Equals("x-requested-with"));

    var filteredQueryString = QueryString.Create(queryParamsFilteredList).ToString();

    var currentUrl = string.Concat(_httpContextAccessor.HttpContext?.Request.Path, filteredQueryString);

    if (!string.IsNullOrWhiteSpace(Model.Handler) && !currentUrl.Contains("&handler="))
    {
        if (currentUrl.Contains("?"))
        {
            currentUrl = string.Concat(currentUrl, "&handler=", Model.Handler);
        }
        else
        {
            currentUrl = string.Concat(currentUrl, "?handler=", Model.Handler);
        }
    }
    int start = 1, linkLimit = 3,
        end = Model.TotalPages;
    if (Model.TotalPages > linkLimit)
    {
        var middle = (int)Math.Ceiling(linkLimit / 2d) - 1;
        var below = Model.Page - middle;
        var above = Model.Page + middle;
        if (below < 2)
        {
            above = linkLimit;
            below = 1;
        }
        else if (above > (Model.TotalPages - 2))
        {
            above = Model.TotalPages;
            below = Model.TotalPages - linkLimit + 1;
        }
        start = below;
        end = above;
    }
}
<div class="card-footer pagination-ajax">
    <div class="d-flex justify-content-center">
        @if (Model.Page > 1)
        {
            <a href="javascript:void(0)"
               data-ajax="true"
               data-ajax-url="@currentUrl.PaginationLink(Model.Page-1)"
               data-ajax-method="get"
               data-ajax-update="#@Model.ElementUpdate"
               data-ajax-begin="setRequestHeader(this, xhr)"
               data-ajax-success="@Model.AjaxOnSuccess"
            title="Trang @(Model.Page-1)" class="btn btn-falcon-default btn-sm me-2">
                <svg class="svg-inline--fa fa-chevron-left fa-w-10" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" data-fa-i2svg=""><path fill="currentColor" d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"></path></svg>
            </a>
        }
        @if (start > 1)
        {
            <a href="javascript:void(0)"
               data-ajax="true"
               data-ajax-url="@currentUrl.PaginationLink(1)"
               data-ajax-method="get"
               data-ajax-update="#@Model.ElementUpdate"
               data-ajax-begin="setRequestHeader(this, xhr)"
               data-ajax-success="@Model.AjaxOnSuccess"
            title="Trang 1" class="btn btn-sm btn-falcon-default me-2">1</a>
            if (start > 3)
            {
                <a href="javascript:void(0)"
                   data-ajax="true"
                   data-ajax-url="@currentUrl.PaginationLink(1)"
                   data-ajax-method="get"
                   data-ajax-update="#@Model.ElementUpdate"
                   data-ajax-begin="setRequestHeader(this, xhr)"
                   data-ajax-success="@Model.AjaxOnSuccess"
                title="Trang 2" class="btn btn-sm btn-falcon-default me-2">2</a>
            }
            if (start > 2)
            {
                <a href="javascript:void(0)" class="btn btn-sm btn-falcon-default me-2">
                    <svg class="svg-inline--fa fa-ellipsis-h fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="ellipsis-h" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"></path></svg>
                </a>
            }
        }
        @for (int index = start; index <= end; index++)
        {
            if (index == Model.Page)
            {
                <span class="btn btn-sm btn-falcon-default text-primary me-2">@Model.Page.NumberFormat()</span>
            }
            else
            {
                <a href="javascript:void(0)"
                   data-ajax="true"
                   data-ajax-url="@currentUrl.PaginationLink(index)"
                   data-ajax-method="get"
                   data-ajax-update="#@Model.ElementUpdate"
                   data-ajax-begin="setRequestHeader(this, xhr)"
                   data-ajax-success="@Model.AjaxOnSuccess"
                   title="Trang @index" class="btn btn-sm btn-falcon-default me-2">@index.NumberFormat()</a>
            }
        }
        @if (end < Model.TotalPages)
        {
            if (end < Model.TotalPages - 1)
            {
                <span class="btn btn-sm btn-falcon-default me-2">
                    <svg class="svg-inline--fa fa-ellipsis-h fa-w-16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="ellipsis-h" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"></path></svg>
                </span>
            }
            if (end < Model.TotalPages - 2)
            {
                <a href="javascript:void(0)"
                   data-ajax="true"
                   data-ajax-url="@currentUrl.PaginationLink(Model.TotalPages)"
                   data-ajax-method="get"
                   data-ajax-update="#@Model.ElementUpdate"
                   data-ajax-begin="setRequestHeader(this, xhr)"
                   data-ajax-success="@Model.AjaxOnSuccess"
                   title="Trang @Model.TotalPages" class="btn btn-sm btn-falcon-default me-2">@Model.TotalPages.NumberFormat()</a>
            }
        }
        @if (Model.Page < Model.TotalPages)
        {
            <a href="javascript:void(0)"
               data-ajax="true"
               data-ajax-url="@currentUrl.PaginationLink(Model.Page + 1)"
               data-ajax-method="get"
               data-ajax-update="#@Model.ElementUpdate"
               data-ajax-begin="setRequestHeader(this, xhr)"
               data-ajax-success="@Model.AjaxOnSuccess"
            title="Trang @(Model.Page + 1)" class="btn btn-falcon-default btn-sm">
                <svg class="svg-inline--fa fa-chevron-right fa-w-10" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" data-fa-i2svg=""><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg>
            </a>
        }
    </div>
</div>